{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '@/assets/logo.svg';\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4936032c\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  id: \"form\",\n  class: \"container py-2 px-0 col-10 py-md-3 px-md-5 col-md-8 form\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"Logo Groupomania\",\n  class: \"mt-2 mb-2 mt-md-3 mb-mt-5\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_3 = {\n  class: \"row form-row\"\n};\nconst _hoisted_4 = {\n  class: \"mb-2 mb-md-3\"\n};\nconst _hoisted_5 = {\n  for: \"firstname\",\n  class: \"form-label\"\n};\nconst _hoisted_6 = {\n  key: 1\n};\nconst _hoisted_7 = {\n  class: \"mb-2 mb-md-3\"\n};\nconst _hoisted_8 = {\n  for: \"lastname\",\n  class: \"form-label\"\n};\nconst _hoisted_9 = {\n  key: 1\n};\nconst _hoisted_10 = {\n  class: \"mb-2 mb-md-3\"\n};\nconst _hoisted_11 = {\n  for: \"email\",\n  class: \"form-label\"\n};\nconst _hoisted_12 = {\n  key: 1\n};\nconst _hoisted_13 = {\n  class: \"mb-2 mb-md-3\"\n};\nconst _hoisted_14 = {\n  for: \"password\",\n  class: \"form-label\"\n};\nconst _hoisted_15 = {\n  key: 1\n};\nconst _hoisted_16 = {\n  class: \"my-2 my-md-3 d-grid\"\n};\nconst _hoisted_17 = [\"disabled\"];\nconst _hoisted_18 = {\n  class: \"row mt-2 mt-md-3\"\n};\nconst _hoisted_19 = {\n  class: \"text-light text-center\"\n};\n\nconst _hoisted_20 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  const _component_BlockAlert = _resolveComponent(\"BlockAlert\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"form\", {\n    onSubmit: _cache[8] || (_cache[8] = _withModifiers((...args) => $options.signup && $options.signup(...args), [\"prevent\"])),\n    class: \"col-10\"\n  }, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"label\", _hoisted_5, [!$options.firstnameIsValid ? (_openBlock(), _createElementBlock(\"span\", {\n    key: 0,\n    class: \"form-alert\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.firstnameAlert && $options.firstnameAlert(...args))\n  }, \" ⚠️ \")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_6, \" ✅ \")), _createTextVNode(\"Prénom \")]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"firstname\",\n    autocomplete: \"given-name\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.user.firstname = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.user.firstname]])]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"label\", _hoisted_8, [!$options.lastnameIsValid ? (_openBlock(), _createElementBlock(\"span\", {\n    key: 0,\n    class: \"form-alert\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.lastnameAlert && $options.lastnameAlert(...args))\n  }, \" ⚠️ \")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_9, \" ✅ \")), _createTextVNode(\"Nom\")]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"lastname\",\n    autocomplete: \"family-name\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.user.lastname = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.user.lastname]])]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"label\", _hoisted_11, [!$options.emailIsValid ? (_openBlock(), _createElementBlock(\"span\", {\n    key: 0,\n    class: \"form-alert\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.emailAlert && $options.emailAlert(...args))\n  }, \" ⚠️ \")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_12, \" ✅ \")), _createTextVNode(\"Email\")]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"email\",\n    autocomplete: \"email\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.user.email = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.user.email]])]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"label\", _hoisted_14, [!$options.passwordIsValid ? (_openBlock(), _createElementBlock(\"span\", {\n    key: 0,\n    class: \"form-alert\",\n    onClick: _cache[6] || (_cache[6] = (...args) => $options.passwordAlert && $options.passwordAlert(...args))\n  }, \" ⚠️ \")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_15, \" ✅ \")), _createTextVNode(\"Mot de passe\")]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    class: \"form-control\",\n    id: \"password\",\n    autocomplete: \"new-password\",\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.user.password = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.user.password]])]), _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn btn-primary mt-3 p-1\",\n    disabled: !$options.formIsValid\n  }, \" S'inscrire \", 8\n  /* PROPS */\n  , _hoisted_17)])])], 32\n  /* HYDRATE_EVENTS */\n  ), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"p\", _hoisted_19, [_createTextVNode(\" Déjà un compte ? \"), _hoisted_20, _createVNode(_component_router_link, {\n    to: \"/\",\n    class: \"link\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Connectez-vous\")]),\n    _: 1\n    /* STABLE */\n\n  })])]), _createVNode(_component_BlockAlert, {\n    \"reveal-alert\": $data.revealAlert,\n    \"toggle-alert\": $options.toggleAlert,\n    \"message-alert\": $data.messageAlert\n  }, null, 8\n  /* PROPS */\n  , [\"reveal-alert\", \"toggle-alert\", \"message-alert\"])]);\n}","map":{"version":3,"mappings":"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","names":["_imports_0","id","class","_createElementVNode","src","alt","for","_createElementBlock","_hoisted_2","onSubmit","$options","onClick","_hoisted_6","type","autocomplete","$data","firstname","$event","_hoisted_9","lastname","_hoisted_12","email","_hoisted_15","password","disabled","_hoisted_17","_hoisted_20","_createVNode","_component_router_link","to","_component_BlockAlert"],"sourceRoot":"","sources":["/Users/clementstorne/Google Drive/OpenClassrooms/Dev-web/P7/groupomania-code/front/src/components/FormSignup.vue"],"sourcesContent":["<template>\n  <div\n    id=\"form\"\n    class=\"container py-2 px-0 col-10 py-md-3 px-md-5 col-md-8 form\"\n  >\n    <img\n      src=\"@/assets/logo.svg\"\n      alt=\"Logo Groupomania\"\n      class=\"mt-2 mb-2 mt-md-3 mb-mt-5\"\n    />\n    <form @submit.prevent=\"signup\" class=\"col-10\">\n      <div class=\"row form-row\">\n        <div class=\"mb-2 mb-md-3\">\n          <label for=\"firstname\" class=\"form-label\"\n            ><span\n              v-if=\"!firstnameIsValid\"\n              class=\"form-alert\"\n              @click=\"firstnameAlert\"\n            >\n              ⚠️ </span\n            ><span v-else> ✅ </span>Prénom\n          </label>\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            id=\"firstname\"\n            autocomplete=\"given-name\"\n            v-model=\"user.firstname\"\n          />\n        </div>\n        <div class=\"mb-2 mb-md-3\">\n          <label for=\"lastname\" class=\"form-label\"\n            ><span\n              v-if=\"!lastnameIsValid\"\n              class=\"form-alert\"\n              @click=\"lastnameAlert\"\n            >\n              ⚠️ </span\n            ><span v-else> ✅ </span>Nom</label\n          >\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            id=\"lastname\"\n            autocomplete=\"family-name\"\n            v-model=\"user.lastname\"\n          />\n        </div>\n        <div class=\"mb-2 mb-md-3\">\n          <label for=\"email\" class=\"form-label\"\n            ><span v-if=\"!emailIsValid\" class=\"form-alert\" @click=\"emailAlert\">\n              ⚠️ </span\n            ><span v-else> ✅ </span>Email</label\n          >\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            id=\"email\"\n            autocomplete=\"email\"\n            v-model=\"user.email\"\n          />\n        </div>\n        <div class=\"mb-2 mb-md-3\">\n          <label for=\"password\" class=\"form-label\"\n            ><span\n              v-if=\"!passwordIsValid\"\n              class=\"form-alert\"\n              @click=\"passwordAlert\"\n            >\n              ⚠️ </span\n            ><span v-else> ✅ </span>Mot de passe</label\n          >\n          <input\n            type=\"password\"\n            class=\"form-control\"\n            id=\"password\"\n            autocomplete=\"new-password\"\n            v-model=\"user.password\"\n          />\n        </div>\n        <div class=\"my-2 my-md-3 d-grid\">\n          <button\n            type=\"submit\"\n            class=\"btn btn-primary mt-3 p-1\"\n            :disabled=\"!formIsValid\"\n          >\n            S'inscrire\n          </button>\n        </div>\n      </div>\n    </form>\n    <div class=\"row mt-2 mt-md-3\">\n      <p class=\"text-light text-center\">\n        Déjà un compte ? <br />\n        <router-link to=\"/\" class=\"link\">Connectez-vous</router-link>\n      </p>\n    </div>\n    <BlockAlert\n      :reveal-alert=\"revealAlert\"\n      :toggle-alert=\"toggleAlert\"\n      :message-alert=\"messageAlert\"\n    />\n  </div>\n</template>\n\n<script>\nimport BlockAlert from \"@/components/BlockAlert.vue\";\n\nimport { AuthService } from \"@/services\";\nexport default {\n  name: \"FormSignup\",\n  components: {\n    BlockAlert,\n  },\n  data() {\n    return {\n      user: {\n        firstname: \"\",\n        lastname: \"\",\n        email: \"\",\n        password: \"\",\n      },\n      revealAlert: false,\n      messageAlert: \"\",\n    };\n  },\n  computed: {\n    firstnameIsValid() {\n      let regex = /^[^0-9.,\"?!;:#$%&()*+/<>=@[\\]\\\\^_{}|~]{2,}$/;\n      return regex.test(this.user.firstname);\n    },\n    lastnameIsValid() {\n      let regex = /^[^0-9.,\"?!;:#$%&()*+/<>=@[\\]\\\\^_{}|~]{2,}$/;\n      return regex.test(this.user.lastname);\n    },\n    emailIsValid() {\n      let regex = /^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$/;\n      return regex.test(this.user.email);\n    },\n    passwordIsValid() {\n      let regex = /((?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[\\W]).{8,})/g;\n      return regex.test(this.user.password);\n    },\n    formIsValid() {\n      return (\n        this.firstnameIsValid &&\n        this.lastnameIsValid &&\n        this.emailIsValid &&\n        this.passwordIsValid\n      );\n    },\n  },\n  methods: {\n    async signup() {\n      try {\n        const credentials = {\n          firstname: this.user.firstname,\n          lastname: this.user.lastname,\n          email: this.user.email,\n          password: this.user.password,\n        };\n        await AuthService.signup(credentials);\n        this.$router.push(\"/\");\n      } catch (err) {\n        console.log(err);\n        this.messageAlert = err.response.data.error.errorMessage;\n        this.revealAlert = !this.revealAlert;\n      }\n    },\n    toggleAlert() {\n      this.revealAlert = !this.revealAlert;\n    },\n    firstnameAlert() {\n      this.messageAlert =\n        \"Le prénom ne peut contenir ni chiffres, ni caractères spéciaux et doit avoir une longueur minimale de 2 caractères\";\n      this.revealAlert = !this.revealAlert;\n    },\n    lastnameAlert() {\n      this.messageAlert =\n        \"Le nom ne peut contenir ni chiffres, ni caractères spéciaux et doit avoir une longueur minimale de 2 caractères\";\n      this.revealAlert = !this.revealAlert;\n    },\n    emailAlert() {\n      this.messageAlert = \"Adresse email incorrecte\";\n      this.revealAlert = !this.revealAlert;\n    },\n    passwordAlert() {\n      this.messageAlert =\n        \"Le mot de passe doit contenir au moins une majuscule, une minuscule, un chiffre et un caractère spécial. Il doit avoir une longueur minimale de 8 caractères\";\n      this.revealAlert = !this.revealAlert;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n#form {\n  background-color: rgba($color-primary, 0.55);\n  border-radius: 16px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  & img {\n    height: 40px;\n    width: auto;\n  }\n}\n.form {\n  &-label {\n    color: $white;\n    font-size: 16px;\n    font-weight: 400;\n    text-align: left;\n  }\n  &-control {\n    border: none;\n    padding: 12px;\n    &:focus {\n      box-shadow: 0px 0px 0px 4px rgba($white, 0.5);\n      outline: none;\n    }\n  }\n  &-alert {\n    cursor: pointer;\n  }\n}\n.btn-primary {\n  background: $color-tertiary;\n  font-weight: 700;\n  font-size: 24px;\n  border-radius: 8px;\n  border: none;\n  &:hover {\n    background: darken($color-tertiary, 5%);\n  }\n  &:focus {\n    background: darken($color-tertiary, 5%);\n    box-shadow: 0px 0px 0px 4px rgba($white, 0.5);\n    outline: none;\n  }\n  &:disabled {\n    background: $dark-gray;\n    box-shadow: 0px 0px 0px 4px rgba($color-tertiary, 0.5);\n    outline: none;\n  }\n}\n.link {\n  color: $color-tertiary;\n  font-weight: 600;\n  font-size: 20px;\n  &:hover {\n    color: darken($color-tertiary, 5%);\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}